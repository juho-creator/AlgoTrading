<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{title}}</title>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
</head>
<body>
    <h1>{{title}}</h1>
    <div id="charts"></div>
    <div id="trades"></div>
    <div id="my_balances">

        <div style="border : solid gray 1px; padding : 20px; width: 600px; margin-top: 20px;">
            <h3>Buy Crypto</h3>

            <div style="padding:10px; background:pink;border: solid red 1px; color: red;">
            </div>



            <form action="/buy" method="post">
                <input type="text" id="quantity" name="quantity" placeholder="eg 0.001">
                <select id="symbol" name="symbol">
                    {% for symbol in symbols %}
                        <option>                
                            {{ symbol }}
                        </option>
                    {% endfor %}
                </select>
                <input type="submit" name="buy" value="buy">
            </form>
        </div>
        <h1>Settings</h1>
        <div id="settings">
            <input type="checkbox">RSI
            <input type="text" id="rsi_length" name="rsi_length" placeholder="14">
            Overbought
            <input type="text" id="rsi_overbought" name="rsi_overbought" placeholder="70">
            Oversold
            <input type="text" id="rsi_oversold" name="rsi_oversold" placeholder="30">
    
    
        </div>
        <h2>Balances</h2>
        <table>
            {% for symbol, balance in my_balance.items() %}
                <tr>
                    <td> {{ symbol }} </td>
                    <td> {{ balance }} </td>
                </tr>
            {% endfor %}
        </table>
    </div>

    <script>
        // var binanceSocket = new WebSocket("wss://stream.binance.com:9443/ws/btcusdt@trade")
        var tradeDiv = document.getElementById('trades')
        

        // binanceSocket.onmessage = function (event){
        //     console.log(event.data)

        //     var messageObject = JSON.parse(event.data)
            
        //     tradeDiv.append(messageObject.p)
        // }
        
    </script>
    <script src="{{ url_for('static', filename='chart.js') }}"></script>
</body>
</html>